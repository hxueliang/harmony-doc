1.  布局流程简介

    1.  布局使用不当会导致卡顿、掉帧、响应慢、耗资源
    2.  优化布局性能

        1.  减少延迟和卡顿
        2.  减少资源消耗
    3.  在ArkUI的布局过程中

        1.  应用侧会根据前端UI描述创建后端的页面节点树

            1.  包含处理UI组件的属性更新、布局测算、事件处理等
            2.  例如：自定义组件会生成Custome Node；Row/Text会生成Frame Node。
            3.  在这个过程中，UI线程会对第个元素进行测算和布局
            4.  测算Measure：负责确定组件对象的测试量宽/高，即该元素占屏幕的大小
            5.  布局Layout：确定组件的最终宽/高和四个顶点的位置，即节点最终信息
        2.  根据页面节点树生成渲染树(当前界面的描述结构)

            1.  渲染树：

                1.  由RenderNode渲染节点组成，
                2.  描述了具体元素在屏幕上的布局信息(大小、位置等)
        3.  最后渲染服务的渲染线程会根据渲染树的信息执行相应的绘制工作
    4.  优化布局性能

        1.  减少节点数
        2.  减少布局测算耗时
2.  精简节点数

    1.  移除冗余的节点
    2.  使用扁平化布局减少节点数

        1.  RelativeContainer
        2.  Grid
        3.  但不恰当的使用高级组件可能带来更多的性能消耗(即在只有5\~8层的布局中，使用基础组件)
3.  合理控制元素显示与隐藏

    1.  if：如果组件创建非常消耗资源，且不会立即使用，也并非频繁切换交互，只在特定条件下才会出现时
    2.  visibility：在性能要求较高，并且频繁切换元素显示隐藏
4.  给定组件的宽高

    1.  在拖拽、缩放时，如果部分内容的大小不需要自适应

        1.  可以给对应的组件设置固定的宽、高，来减少Measure过程的耗时
5.  使用推荐的布局组件

    1.  在相同嵌套层级的情况下，如果多种布局方式可以实现相同的布局效果，优选低耗时的布局，如使用Column/Row替代Flex实现相同的单行布局
    2.  在能够通过其他布局大幅优化节点数的情况下，可以使用高级组件替代，例如使用RelatvieContainer替代Row/Row实现扁平化布局，此时收益大于布局组件本身的性能差距
    3.  仅在必要的场景下使用高耗时的布局组件，如使用Flex实现折行布局、使用Grid实现二维网格布局等

